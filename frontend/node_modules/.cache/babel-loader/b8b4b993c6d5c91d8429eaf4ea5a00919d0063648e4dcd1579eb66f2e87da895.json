{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/src/components/QuizPanel.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, React } from \"react\";\nimport useSound from \"use-sound\";\nimport nextquiz from \"../assets/sounds/nextquiz.mp3\";\nimport final_answer from \"../assets/sounds/final_answer.mp3\";\nimport correct from \"../assets/sounds/correct.mp3\";\nimport wrong from \"../assets/sounds/wrong.mp3\";\nimport wait from \"../assets/sounds/answer_wait.mp3\";\n\n// クイズの判定処理や、次の問題への遷移処理を行うコンポーネント\n// 新規性: 音を鳴らす処理を追加\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const QuizPanel = ({\n  data,\n  questionNumber,\n  setQuestionNumber,\n  setFinishJudge\n}) => {\n  _s();\n  const [question, setQuestion] = useState(null);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [className, setClassName] = useState(\"answer\");\n  const [nextQuiz] = useSound(nextquiz, {\n    interrupt: true\n  });\n  const [finalAnswer, {\n    stop\n  }] = useSound(final_answer, {\n    interrupt: true\n  });\n  const [correctAnswer] = useSound(correct);\n  const [wrongAnswer] = useSound(wrong);\n  const [waitAnswer, WaitAnswerOption] = useSound(wait, {\n    interrupt: true\n  });\n  useEffect(() => {\n    waitAnswer();\n  }, [waitAnswer]);\n  useEffect(() => {\n    setQuestion(data[questionNumber - 1]);\n  }, [data, questionNumber]);\n  const delay = (duration, callback) => {\n    setTimeout(() => {\n      callback();\n    }, duration);\n  };\n  const handleClick = a => {\n    WaitAnswerOption.stop();\n    finalAnswer();\n    setSelectedAnswer(a);\n    setClassName(\"answer active\");\n    delay(3000, () => {\n      setClassName(a.correct ? \"answer correct\" : \"answer wrong\");\n    });\n    delay(5000, () => {\n      stop();\n      if (a.correct) {\n        correctAnswer();\n        delay(4000, () => {\n          nextQuiz();\n          delay(5000, () => {\n            waitAnswer();\n            setQuestionNumber(prev => prev + 1);\n            setSelectedAnswer(null);\n          });\n        });\n        // setTimeout(() => {\n        //   setQuestionNumber((prev) => prev + 1);\n        //   setSelectedAnswer(null);\n        // }, 1000);\n      } else {\n        wrongAnswer();\n        delay(1000, () => {\n          setFinishJudge(true);\n        });\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"trivia\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"question\",\n      children: question === null || question === void 0 ? void 0 : question.question\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"answers\",\n      children: question === null || question === void 0 ? void 0 : question.answers.map(a => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: selectedAnswer === a ? className : \"answer\",\n        onClick: () => !selectedAnswer && handleClick(a),\n        children: a.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n_s(QuizPanel, \"xIM7b/SxpgorArEQT59fNa0wZ44=\", false, function () {\n  return [useSound, useSound, useSound, useSound, useSound];\n});\n_c = QuizPanel;\nvar _c;\n$RefreshReg$(_c, \"QuizPanel\");","map":{"version":3,"names":["useEffect","useState","React","useSound","nextquiz","final_answer","correct","wrong","wait","jsxDEV","_jsxDEV","QuizPanel","data","questionNumber","setQuestionNumber","setFinishJudge","_s","question","setQuestion","selectedAnswer","setSelectedAnswer","className","setClassName","nextQuiz","interrupt","finalAnswer","stop","correctAnswer","wrongAnswer","waitAnswer","WaitAnswerOption","delay","duration","callback","setTimeout","handleClick","a","prev","children","fileName","_jsxFileName","lineNumber","columnNumber","answers","map","onClick","text","_c","$RefreshReg$"],"sources":["/usr/src/app/src/components/QuizPanel.jsx"],"sourcesContent":["import { useEffect, useState, React } from \"react\";\nimport useSound from \"use-sound\";\nimport nextquiz from \"../assets/sounds/nextquiz.mp3\";\nimport final_answer from \"../assets/sounds/final_answer.mp3\";\nimport correct from \"../assets/sounds/correct.mp3\";\nimport wrong from \"../assets/sounds/wrong.mp3\";\nimport wait from \"../assets/sounds/answer_wait.mp3\";\n\n// クイズの判定処理や、次の問題への遷移処理を行うコンポーネント\n// 新規性: 音を鳴らす処理を追加\n\nexport const QuizPanel = ({ data, questionNumber, setQuestionNumber, setFinishJudge}) => {\n    const [question, setQuestion] = useState(null);\n    const [selectedAnswer, setSelectedAnswer] = useState(null);\n    const [className, setClassName] = useState(\"answer\");\n    const [nextQuiz] = useSound(nextquiz, { interrupt: true });\n    const [finalAnswer,{ stop }] = useSound(final_answer, { interrupt: true })\n    const [correctAnswer] = useSound(correct);\n    const [wrongAnswer] = useSound(wrong);\n    const [waitAnswer, WaitAnswerOption] = useSound(wait, { interrupt: true });\n\n    useEffect(() => {\n        waitAnswer();\n    }, [waitAnswer]);\n\n    useEffect(() => {\n        setQuestion(data[questionNumber - 1]);\n    }, [data, questionNumber]);\n\n    const delay = (duration, callback) => {\n        setTimeout(() => {\n        callback();\n        }, duration);\n    };\n\n    const handleClick = (a) => {\n        WaitAnswerOption.stop();\n        finalAnswer();\n        setSelectedAnswer(a);\n        setClassName(\"answer active\");\n        delay(3000, () => {\n            setClassName(a.correct ? \"answer correct\" : \"answer wrong\");\n        });\n        delay(5000, () => {\n            stop();\n        if (a.correct) {\n            correctAnswer();\n                delay(4000, () => {\n                    nextQuiz();\n                    delay(5000, () => {\n                        waitAnswer();\n                        setQuestionNumber((prev) => prev + 1);\n                        setSelectedAnswer(null);\n                    });\n                });\n            // setTimeout(() => {\n            //   setQuestionNumber((prev) => prev + 1);\n            //   setSelectedAnswer(null);\n            // }, 1000);\n        } else {\n            wrongAnswer();\n            delay(1000, () => {\n                setFinishJudge(true);\n            });\n        }\n        })\n    };\n    return (\n        <div className=\"trivia\">\n        <div className=\"question\">{question?.question}</div>\n        <div className=\"answers\">\n            {question?.answers.map((a) => (\n            <div\n                className={selectedAnswer === a ? className : \"answer\"}\n                onClick={() => !selectedAnswer && handleClick(a)}\n            >\n                {a.text}\n            </div>\n            ))}\n        </div>\n        </div>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}